<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background-color: white; /* Add this line for a white background */
    }

    .word {
      position: absolute;
      font-size: 18px;
      white-space: nowrap;
    }
  </style>
</head>
<body>
  <script>
    const words = [
      "Device serial number", "We use anonymized data", "We use device identifiers", "Collects information", "Sends data", "Local data protection authorities",
      "With your consent", "We can save audio recordings", "What are your rights", "Accesses and discloses data", "You will not be able to", "You may need to accept",
      "Operational controllers", "Reserves the right to terminate your access to", "Legal requirements", "Remove your content", "Stop using the services", "By closing your account",
      "User verification protocols", "Application of encryption measures", "Collaboration with external service providers", "Tracking tech and cookies", "Setting retention policies",
      "Notifying policy changes", "Enforcing authentication safeguards", "Developing incident response protocols", "Communicating breach notifications", "Ensuring international transfer compliance",
      "Incorporating opt-out mechanisms", "Enforcing security measures", "Facilitating portability options", "Aggregating anonymous usage metrics", "Managing in-app preferences", "Facilitating consent withdrawal",
      "Securing financial transactions", "Implementing two-step authentication", "Assisting user data access requests", "Providing user conduct guidelines", "Acknowledging terms upon updates", "Adhering to anonymization principles",
      "Recognizing subject rights", "Establishing disposal protocols", "Managing restricted access zones", "Managing geolocation permissions", "Including liability limitation provisions",
      "Fulfilling indemnification responsibilities",
      "Protecting user privacy", "Ensuring data integrity", "Enhancing security measures", "Implementing data encryption", "Auditing access logs", "Conducting security assessments",
      "Monitoring network traffic", "Collaborating with cybersecurity experts", "Facilitating data portability", "Managing user authentication", "Optimizing system performance", "Responding to data breaches",
      "Complying with industry standards", "Conducting regular security audits", "Updating privacy policies", "Encrypting sensitive information", "Securing communication channels", "Ensuring regulatory compliance",
      "Minimizing data retention periods", "Securing server infrastructure", "Implementing secure coding practices", "Validating user input", "Enhancing incident response plans", "Fees for this license", // Updated this line
      "Conducting vulnerability assessments", "Securing physical data centers", "Verifying third-party security practices", "Reviewing access control policies", "Enhancing user consent mechanisms"
    ];

    const wordsWithReducedOpacity = [
      "Training employees on security", "Securing physical data centers", "Verifying third-party security practices", "Reviewing access control policies", "Enhancing user consent mechanisms",
      "Facilitating portability options", "Aggregating anonymous usage metrics", "Managing in-app preferences", "Facilitating consent withdrawal", "Securing financial transactions",
      "Implementing two-step authentication", "Assisting user data access requests", "Providing user conduct guidelines", "Acknowledging terms upon updates", "Adhering to anonymization principles",
      "Recognizing subject rights", "Establishing disposal protocols", "Managing restricted access zones", "Managing geolocation permissions", "Including liability limitation provisions",
      "Fulfilling indemnification responsibilities"
    ];

    let wordElements = [];

    // Helper function to set opacity
    function setOpacity(element, opacity) {
      element.style.opacity = opacity;
    }

    function encryptCaesarCipher(str, shift) {
      return str
        .split("")
        .map(char => {
          if (char.match(/[a-zA-Z]/)) {
            let code = char.charCodeAt(0);
            let offset = code >= 65 && code <= 90 ? 65 : 97;
            return String.fromCharCode(((code - offset + shift) % 26) + offset);
          } else {
            return char;
          }
        })
        .join("");
    }

    function createWordElements() {
      // Retrieve initial positions from local storage
      const savedPositions = JSON.parse(localStorage.getItem('wordPositions')) || [];

      for (let i = 0; i < words.length; i++) {
        let encryptedWord = encryptCaesarCipher(words[i], 3);
        let wordElement = document.createElement('div');
        wordElement.className = 'word';
        wordElement.innerHTML = encryptedWord;

        // Use the retrieved initial positions or set default positions
        let initialPosition;
        if (words[i] === "Reserves the right to terminate your access to") {
          initialPosition = { x: 100, y: 100 }; // Adjust the values as needed
        } else if (words[i] === "Fees for this license") { // Updated this line
          initialPosition = { x: window.innerWidth / 2, y: window.innerHeight / 2 }; // Center the word
        } else if (words[i] === "Enforcing security measures") {
          initialPosition = { x: 300, y: 300 }; // Adjust the values as needed
        } else if (words[i] === "Including liability limitation provisions") {
          initialPosition = { x: 400, y: 400 }; // Adjust the values as needed
        } else {
          initialPosition = savedPositions[i] || { x: 50, y: 50 };
        }

        // Decrease the x value to move words to the left
        wordElement.style.left = (initialPosition.x - 50) + 'px'; // Adjust the offset as needed
        wordElement.style.top = initialPosition.y + 'px';

        // Set opacity to 0.5 for words in the specified list
        if (wordsWithReducedOpacity.includes(words[i])) {
          setOpacity(wordElement, 0.5);
        }

        document.body.appendChild(wordElement);
        wordElements.push({
          element: wordElement,
          originalWord: words[i],
          encryptedWord: encryptedWord,
          showOriginal: false
        });
      }
    }

    function mouseMoved(event) {
      let mouseX = event.clientX;
      let mouseY = event.clientY;

      wordElements.forEach(word => {
        let rect = word.element.getBoundingClientRect();

        if (
          mouseX > rect.left &&
          mouseX < rect.right &&
          mouseY > rect.top &&
          mouseY < rect.bottom
        ) {
          word.showOriginal = true;
        } else {
          word.showOriginal = false;
        }
      });

      updateDisplay();
    }

    function updateDisplay() {
      wordElements.forEach(word => {
        word.element.innerHTML = word.showOriginal ? word.originalWord : word.encryptedWord;
      });
    }

    window.addEventListener('resize', () => {
      // Don't update word positions on resize
    });

    window.addEventListener('DOMContentLoaded', () => {
      createWordElements();
      document.addEventListener('mousemove', mouseMoved);
    });
  </script>
</body>
</html>
